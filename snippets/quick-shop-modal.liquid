
<modal-opener data-modal="#ProductModal-{{ product.id }}">
    <button>Open</button>
</modal-opener>
<modal-dialog id="ProductModal-{{ product.id }}">
    <div class="p-[44px] w-[656px] h-[538px] flex gap-s7 bg-white relative" role="dialog">
        <div class="flex-1 relative overflow-hidden carousel" data-curr="0">
            {% for image in product.images %}
                <img src="{{ image | image_url }}" class="w-full h-full object-cover absolute top-0 carousel-img" style="left:calc(100% * {{ forloop.index0 }});" data-index="{{ forloop.index0 }}" width="300" height="450" loading="lazy" />
            {% endfor %}
            <button class="absolute left-0 top-1/2 -transform-y-1/2 px-s1 py-s2 bg-black-50 carousel-control" data-action="prev"></button>
            <button class="absolute right-0 top-1/2 -transform-y-1/2 px-s1 py-s2 bg-black-50 carousel-control" data-action="next"></button>
        </div>
        <div class="w-[236px]">
            <p class="faux-p-lg text-black-900 mt-s7">{{ product.title }}</p>
            <p class="text-black-900">{{ product.price | money }}</p>
            <div class="w-full my-s7" style="background-color:#DDDDDD;"></div>
            <p>Color</p>
            <p>Size</p>
            {%- assign product_form_id = 'quick-add-' | append: product.id -%}
            <product-form>
                {%- form 'product', product, id: product_form_id, class: 'form', novalidate: 'novalidate', data-type: 'add-to-cart-form' -%}
                  <input
                    type="hidden"
                    name="id"
                    value="{{ product.selected_or_first_available_variant.id }}"
                    disabled
                  >
                  <button
                    id="{{ product_form_id }}-submit"
                    type="submit"
                    name="add"
                    class="quick-add__submit btn btn--sm w-full mt-s7"
                    aria-haspopup="dialog"
                    aria-labelledby="{{ product_form_id }}-submit title-{{ section_id }}-{{ product.id }}"
                    aria-live="polite"
                    data-sold-out-message="true"
                    {% if product.selected_or_first_available_variant.available == false %}
                      disabled
                    {% endif %}
                  >
                    <span>
                      {%- if product.selected_or_first_available_variant.available -%}
                        Add to Cart
                      {%- else -%}
                        Sold Out
                      {%- endif -%}
                    </span>
                    <span class="sold-out-message hidden">
                      Sold Out
                    </span>
                    <div class="loading-overlay__spinner hidden">
                      <svg
                        aria-hidden="true"
                        focusable="false"
                        role="presentation"
                        class="spinner"
                        viewBox="0 0 66 66"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <circle class="path" fill="none" stroke-width="6" cx="33" cy="33" r="30"></circle>
                      </svg>
                    </div>
                  </button>
                {%- endform -%}
              </product-form>
            <button class="btn btn--sm w-full mt-s4">View Full Details</button>
        </div>
        <button id="ModalClose-{{ product.id }}" class="w-s8 h-s8 flex justify-center items-center absolute top-s5 right-s5 border-black-200 border-1 rounded-full">x</button>
    </div>
</modal-dialog>
